<div class="component">
    <form name="editForm" role="form" (ngSubmit)="save()" #settingsForm="ngForm" *ngIf="settingsAccount"
          #editForm="ngForm">

        <ng-container class="container-fluid-w">
            <div class="row">
                <h2 jhiTranslate="settings.title" [translateValues]="{username: settingsAccount.login}"
                    *ngIf="settingsAccount">User settings for [<b>{{settingsAccount.login}}</b>]</h2>
                <div class="alert alert-success" *ngIf="success" jhiTranslate="settings.messages.success">
                    <strong>Settings saved!</strong>
                </div>
                <jhi-alert-error></jhi-alert-error>
            </div>


            <ng-container *ngIf="force">
                <div class="alert alert-warning" role="alert">
                    <span jhiTranslate="settings.alert"></span>
                </div>
            </ng-container>


            <ng-container *ngIf="force">
                <div class="alert alert-primary" role="alert">
                    <span jhiTranslate="settings.request_complete_info"></span>

                </div>
            </ng-container>


            <ng-container *ngIf="!validCellPhone">
                <div class="alert alert-primary" role="alert">
                    <span jhiTranslate="settings.request_update_cellphone"></span>

                </div>
            </ng-container>


            <div class="row" *ngIf="!person">
                <div class="col-md-4">
                    <div class="form-group">
                        <label class="form-control-label" for="nationalCode" jhiTranslate="settings.form.nationalCode">Last
                            Name</label>
                        <input type="text" class="form-control" id="nationalCode" name="nationalCode"
                               placeholder="{{'settings.form.nationalCode.placeholder' | translate}}"
                               [(ngModel)]="settingsAccount.nationalCode"
                               #nationalCodeInput="ngModel" national-code [isLegal]="false"
                               (change)="changeBirthdayAccount()"
                               [disabled]="isAccountValid"
                               required>
                        <div *ngIf="nationalCodeInput.dirty && nationalCodeInput.invalid">
                            <small class="form-text text-danger"
                                   *ngIf="nationalCodeInput.errors.required"
                                   jhiTranslate="settings.messages.validate.nationalCode.required">
                                Your last name is required.
                            </small>
                        </div>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="form-group">
                        <label class="form-control-label"
                               jhiTranslate="niopdcgatewayApp.person.birthday"
                               for="field_settingsAccount_birthday">Birthday</label>

                        <div class="d-flex">
                            <ng2-datetimepicker [rtlActive]="true" time="00:00:00"

                                                id="field_settingsAccount_birthday" [disableTime]="true"

                                                class="form-control" required
                                                name="birthday" [(ngModel)]="settingsAccount.birthday"
                                                [minDateTime]="minDateTimeAccount" [maxDateTime]="maxDateTimeAccount"
                                                (onChangeDateTime)="changeBirthdayAccount()"
                                                #birthday="ngModel"
                                                [disabled]="isAccountValid"
                            ></ng2-datetimepicker>
                        </div>
                    </div>
                </div>

                <div class="col-md-4">
                    <div class="form-group">
                        <button id="inquiry"
                                [disabled]="nationalCodeInput.invalid || birthday.invalid || isAccountValid"
                                type="button" (click)="inquiry()" class="btn btn-primary user-inquiry-btn"
                                jhiTranslate="settings.form.inquiry">inquiry
                        </button>
                    </div>
                </div>


            </div>

            <div class="row" *ngIf="!person">

                <div class="col-md-4">
                    <div class="form-group">
                        <label class="form-control-label" for="idCode" jhiTranslate="settings.form.idCode">Last
                            Name</label>
                        <input type="text" class="form-control" id="idCode" name="idCode"
                               placeholder="{{'settings.form.idCode.placeholder' | translate}}"

                               [(ngModel)]="settingsAccount.idCode"
                               #idCodeInput="ngModel" [disabled]="(!canEditIdCode) || isAccountValid "
                               [numeric]

                               required>
                        <div *ngIf="idCodeInput.dirty && idCodeInput.invalid">
                            <small class="form-text text-danger"
                                   *ngIf="idCodeInput.errors.required"
                                   jhiTranslate="settings.messages.validate.idCode.required">
                                Your last name is required.
                            </small>
                        </div>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="form-group">
                        <label class="form-control-label" for="firstName" jhiTranslate="settings.form.firstname">First
                            Name</label>
                        <input type="text" class="form-control" id="firstName" name="firstName"
                               placeholder="{{'settings.form.firstname.placeholder' | translate}}"
                               [(ngModel)]="settingsAccount.firstName" minlength=1 maxlength=50
                               #firstNameInput="ngModel"
                               [disabled]="(!canEditFirstName) || isAccountValid"
                               required>
                        <div *ngIf="firstNameInput.dirty && firstNameInput.invalid">
                            <small class="form-text text-danger"
                                   *ngIf="firstNameInput.errors.required"
                                   jhiTranslate="settings.messages.validate.firstname.required">
                                Your first name is required.
                            </small>
                            <small class="form-text text-danger"
                                   *ngIf="firstNameInput.errors.minlength"
                                   jhiTranslate="settings.messages.validate.firstname.minlength">
                                Your first name is required to be at least 1 character.
                            </small>
                            <small class="form-text text-danger"
                                   *ngIf="firstNameInput.errors.maxlength"
                                   jhiTranslate="settings.messages.validate.firstname.maxlength">
                                Your first name cannot be longer than 50 characters.
                            </small>
                        </div>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="form-group">
                        <label class="form-control-label" for="lastName" jhiTranslate="settings.form.lastname">Last
                            Name</label>
                        <input type="text" class="form-control" id="lastName" name="lastName"
                               placeholder="{{'settings.form.lastname.placeholder' | translate}}"
                               [(ngModel)]="settingsAccount.lastName" minlength=1 maxlength=50
                               #lastNameInput="ngModel"
                               [disabled]="(!canEditLastName) || isAccountValid"
                               required>
                        <div *ngIf="lastNameInput.dirty && lastNameInput.invalid">
                            <small class="form-text text-danger"
                                   *ngIf="lastNameInput.errors.required"
                                   jhiTranslate="settings.messages.validate.lastname.required">
                                Your last name is required.
                            </small>
                            <small class="form-text text-danger"
                                   *ngIf="lastNameInput.errors.minlength"
                                   jhiTranslate="settings.messages.validate.lastname.minlength">
                                Your last name is required to be at least 1 character.
                            </small>
                            <small class="form-text text-danger"
                                   *ngIf="lastNameInput.errors.maxlength"
                                   jhiTranslate="settings.messages.validate.lastname.maxlength">
                                Your last name cannot be longer than 50 characters.
                            </small>
                        </div>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="form-group">
                        <label class="form-control-label" for="fatherName" jhiTranslate="settings.form.fatherName">First
                            Name</label>
                        <input type="text" class="form-control" id="fatherName" name="fatherName"
                               [(ngModel)]="settingsAccount.fatherName" minlength=1 maxlength=50
                               #fatherNameInput="ngModel"
                               [disabled]="(!canEditFatherName) || isAccountValid"
                               required>

                    </div>
                </div>

                <div class="col-md-4">
                    <div class="form-group">
                        <label class="form-control-label" for="personnelCode"
                               jhiTranslate="settings.form.personnelCode">Last
                            Name</label>
                        <input type="text" class="form-control" id="personnelCode" name="personnelCode"
                               placeholder="{{'settings.form.personnelCode.placeholder' | translate}}"
                               [(ngModel)]="settingsAccount.personnelCode" minlength=5 maxlength=7
                               #personnelCodeInput="ngModel"
                               [disabled]="isAccountValid"
                               required>
                        <div *ngIf="personnelCodeInput.dirty && personnelCodeInput.invalid">
                            <small class="form-text text-danger"
                                   *ngIf="personnelCodeInput.errors.required"
                                   jhiTranslate="settings.messages.validate.personnelCode.required">
                                Your last name is required.
                            </small>
                            <small class="form-text text-danger"
                                   *ngIf="personnelCodeInput.errors.minlength"
                                   jhiTranslate="settings.messages.validate.personnelCode.minlength">
                                Your last name is required to be at least 1 character.
                            </small>
                            <small class="form-text text-danger"
                                   *ngIf="personnelCodeInput.errors.maxlength"
                                   jhiTranslate="settings.messages.validate.personnelCode.maxlength">
                                Your last name cannot be longer than 50 characters.
                            </small>
                        </div>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="form-group">
                        <label class="form-control-label" for="cellPhone" jhiTranslate="settings.form.cellPhone">cellPhone</label>
                        <input type="text" class="form-control" id="cellPhone" name="cellPhone"
                               placeholder="{{'settings.form.cellPhone.placeholder' | translate}}"
                               [(ngModel)]="settingsAccount.cellPhone"
                               #cellPhoneInput="ngModel"
                               required>
                        <div *ngIf="cellPhoneInput.dirty && cellPhoneInput.invalid">
                            <small class="form-text text-danger"
                                   *ngIf="cellPhoneInput.errors.required"
                                   jhiTranslate="settings.messages.validate.cellPhone.required">
                                Your last name is required.
                            </small>
                            <small class="form-text text-danger"
                                   *ngIf="personnelCodeInput.errors.maxlength"
                                   jhiTranslate="settings.messages.validate.cellPhone.maxlength">
                                Your last name cannot be longer than 50 characters.
                            </small>
                        </div>
                    </div>
                </div>

                <div class="col-md-4">
                    <div class="form-group">
                        <label class="form-control-label" jhiTranslate="niopdcgatewayApp.person.email"
                               for="field_email">email</label>
                        <input class="form-control"
                               type="email"
                               pattern="^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$"
                               name="email" id="field_email"
                               [(ngModel)]="settingsAccount.email" required

                        />
                        <div *ngIf="existEmail">
                            <small class="form-text text-danger"
                                   jhiTranslate="niopdcgatewayApp.person.message.existEmail"></small>
                        </div>
                        <div
                            [hidden]="!(editForm.controls.email?.dirty && editForm.controls.email?.invalid)">
                            <small class="form-text text-danger"
                                   [hidden]="!editForm.controls.email?.errors?.minlength"
                                   jhiTranslate="entity.validation.minlength" [translateValues]="{ min: 10 }">
                                This field is required to be at least 10 characters.
                            </small>
                            <small class="form-text text-danger"
                                   [hidden]="!editForm.controls.email?.errors?.maxlength"
                                   jhiTranslate="entity.validation.maxlength" [translateValues]="{ max: 10 }">
                                This field cannot be longer than 10 characters.
                            </small>
                        </div>
                    </div>
                </div>

            </div>
            <ng-container class="row" *ngIf="person">
                <div class="row">
                    <div class="col-md-6">
                        <div class="form-group">
                            <label class="form-control-label" jhiTranslate="niopdcgatewayApp.person.personality"
                                   for="field_personality">Personality</label>
                            <select class="custom-select" name="personality"
                                    [disabled]="true"
                                    [(ngModel)]="person.personality"
                                    id="field_personality" required>
                                <option value="LEGAL">{{'niopdcgatewayApp.Personality.LEGAL' | translate}}</option>
                                <option value="NATURAL">{{'niopdcgatewayApp.Personality.NATURAL' | translate}}
                                </option>
                            </select>
                            <div
                                [hidden]="!(editForm.controls.personality?.dirty && editForm.controls.personality?.invalid)">
                                otp.component.html             <small class="form-text text-danger"
                                       [hidden]="!editForm.controls.personality?.errors?.required"
                                       jhiTranslate="entity.validation.required">
                                    This field is required.
                                </small>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6"
                         *ngIf="person.personality && person.personality === Personality[Personality.LEGAL]">
                        <div class="form-group">
                            <label class="form-control-label" jhiTranslate="niopdcgatewayApp.person.country"
                                   for="field_country">Country</label>
                            <select class="custom-select" id="field_country" name="country"
                                    [(ngModel)]="person.countryId"
                                    required (ngModelChange)="changeCountry()">
                                <option *ngIf="!editForm.value.country" [ngValue]="null" selected></option>
                                <option *ngFor="let countryOption of countries; trackBy: trackCountryById"
                                        [ngValue]="countryOption.id"
                                >
                                    {{countryOption.name}}
                                </option>
                            </select>
                        </div>
                        <div
                            [hidden]="!(editForm.controls.country?.dirty && editForm.controls.country?.invalid)">
                            <small class="form-text text-danger"
                                   [hidden]="!editForm.controls.country?.errors?.required"
                                   jhiTranslate="entity.validation.required">
                                This field is required.
                            </small>
                        </div>
                    </div>
                    <div class="col-md-6"
                         *ngIf="person.personality && person.personality === Personality[Personality.NATURAL]">
                        <div class="form-group">
                            <label class="form-control-label" jhiTranslate="niopdcgatewayApp.person.nationality"
                                   for="field_nationality">Country</label>
                            <select class="custom-select" id="field_nationality"
                                    name="nationality"
                                    [disabled]="true"
                                    [(ngModel)]="person.nationalityId"
                                    required (change)="changeNationality()">
                                <option *ngIf="!editForm.value.nationality" selected></option>
                                <option *ngFor="let countryOption of countries; trackBy: trackNationalityById"
                                        [ngValue]="countryOption.id">
                                    {{countryOption.name}}
                                </option>
                            </select>
                        </div>
                        <div
                            [hidden]="!(editForm.controls.country?.dirty && editForm.controls.country?.invalid)">
                            <small class="form-text text-danger"
                                   [hidden]="!editForm.controls.country?.errors?.required"
                                   jhiTranslate="entity.validation.required">
                                This field is required.
                            </small>
                        </div>
                    </div>
                </div>
                <div class="row" *ngIf="person.personality">
                    <div class="col-md-4">
                        <div class="form-group">
                            <label
                                *ngIf="person.personality === Personality[Personality.LEGAL] && country.checkNationalCode"
                                class="form-control-label"
                                jhiTranslate="niopdcgatewayApp.person.codeLegal"
                                for="field_code">National Code</label>
                            <label
                                *ngIf="person.personality === Personality[Personality.NATURAL] && nationality.checkNationalCode"
                                class="form-control-label"
                                jhiTranslate="niopdcgatewayApp.person.nationalCode"
                                for="field_code">National Code</label>
                            <label
                                *ngIf="(person.personality === Personality[Personality.NATURAL] && !nationality.checkNationalCode)||(person.personality === Personality[Personality.LEGAL] && !country.checkNationalCode)"
                                class="form-control-label"
                                jhiTranslate="niopdcgatewayApp.person.codeOther"
                                for="field_code">National Code</label>
                            <input type="text" class="form-control" name="code"
                                   required national-code disabled
                                   [isLegal]="person.personality === Personality[Personality.LEGAL]"
                                   id="field_code" search-after-typed
                                   [(ngModel)]="person.code" numeric
                                   [minlength]="person.personality === Personality[Personality.LEGAL]?11:10"
                                   [maxlength]="person.personality === Personality[Personality.LEGAL]?11:10"/>
                            <div *ngIf="existPerson">
                                <small class="form-text text-danger"
                                       jhiTranslate="niopdcgatewayApp.person.message.existPerson"></small>
                            </div>
                            <div
                                [hidden]="!(editForm.controls.code?.dirty && editForm.controls.code?.invalid)">
                                <small class="form-text text-danger"
                                       [hidden]="!editForm.controls.code?.errors?.minlength"
                                       jhiTranslate="entity.validation.minlength"
                                       [translateValues]="{ min: person.personality === Personality[Personality.LEGAL]?11:10 }">
                                    This field is required to be at least 10 characters.
                                </small>
                                <small class="form-text text-danger"
                                       [hidden]="!editForm.controls.code?.errors?.maxlength"
                                       jhiTranslate="entity.validation.maxlength"
                                       [translateValues]="{ max: person.personality === Personality[Personality.LEGAL]?11:10 }">
                                    This field cannot be longer than 10 characters.
                                </small>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="form-group">
                            <label class="form-control-label"
                                   *ngIf="person.personality && person.personality === Personality[Personality.NATURAL]"
                                   jhiTranslate="niopdcgatewayApp.person.birthday"
                                   for="field_birthday">Birthday</label>
                            <label class="form-control-label"
                                   *ngIf="person.personality && person.personality === Personality[Personality.LEGAL]"
                                   jhiTranslate="niopdcgatewayApp.person.registerDate"
                                   for="field_birthday">Birthday</label>
                            <div class="d-flex">
                                <ng2-datetimepicker [rtlActive]="true" time="00:00:00"
                                                    disabled
                                                    id="field_birthday" [disableTime]="true"
                                                    [minDateTime]="minDateTime" [maxDateTime]="maxDateTime"
                                                    class="form-control" required (onChangeDateTime)="changeBirthday()"
                                                    name="birthday" [(ngModel)]="person.birthday"
                                ></ng2-datetimepicker>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4" *ngIf="person.personality === Personality[Personality.NATURAL]">
                        <div class="form-group">
                            <label class="form-control-label" jhiTranslate="niopdcgatewayApp.person.idCode"
                                   for="field_idCode">Id
                                Code</label>
                            <input type="text" class="form-control"
                                   disabled
                                   name="idCode" required [disabled]="notHaveIdCode"
                                   id="field_idCode" search-after-typed (onSearch)="onChangeBaseInfo()"
                                   [(ngModel)]="person.idCode" minlength="1" maxlength="42"/>
                            <div
                                [hidden]="!(editForm.controls.idCode?.dirty && editForm.controls.idCode?.invalid)">
                                <small class="form-text text-danger"
                                       [hidden]="!editForm.controls.idCode?.errors?.minlength"
                                       jhiTranslate="entity.validation.minlength" [translateValues]="{ min: 1 }">
                                    This field is required to be at least 3 characters.
                                </small>
                                <small class="form-text text-danger"
                                       [hidden]="!editForm.controls.idCode?.errors?.maxlength"
                                       jhiTranslate="entity.validation.maxlength" [translateValues]="{ max: 42 }">
                                    This field cannot be longer than 42 characters.
                                </small>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4" *ngIf="person.personality === Personality[Personality.LEGAL]">
                        <div class="form-group">
                            <label class="form-control-label" jhiTranslate="niopdcgatewayApp.person.registerNo"
                                   for="field_registerNo">Register No</label>
                            <input type="text" class="form-control" name="registerNo"
                                   id="field_registerNo" required numeric
                                   disabled
                                   search-after-typed (onSearch)="onChangeBaseInfo()"
                                   [(ngModel)]="person.registerNo" minlength="1" maxlength="15"/>
                            <div
                                [hidden]="!(editForm.controls.registerNo?.dirty && editForm.controls.registerNo?.invalid)">
                                <small class="form-text text-danger"
                                       [hidden]="!editForm.controls.registerNo?.errors?.minlength"
                                       jhiTranslate="entity.validation.minlength" [translateValues]="{ min: 1 }">
                                    This field is required to be at least 1 characters.
                                </small>
                                <small class="form-text text-danger"
                                       [hidden]="!editForm.controls.registerNo?.errors?.maxlength"
                                       jhiTranslate="entity.validation.maxlength" [translateValues]="{ max: 15 }">
                                    This field cannot be longer than 42 characters.
                                </small>
                            </div>
                        </div>
                    </div>
                </div>
                <div *ngIf="person.personality && (!person.companyId)">
                    <div class="row" *ngIf="person.personality === Personality[Personality.LEGAL]">
                        <div class="col-md-4">
                            <div class="form-group">
                                <label class="form-control-label" jhiTranslate="niopdcgatewayApp.person.name"
                                       for="field_name">Name</label>
                                <input type="text" class="form-control"
                                       name="name" id="field_name" required disabled
                                       [(ngModel)]="person.name" minlength="3" maxlength="42"/>
                                <div [hidden]="!(editForm.controls.name?.dirty && editForm.controls.name?.invalid)">
                                    <small class="form-text text-danger"
                                           [hidden]="!editForm.controls.name?.errors?.minlength"
                                           jhiTranslate="entity.validation.minlength" [translateValues]="{ min: 3 }">
                                        This field is required to be at least 3 characters.
                                    </small>
                                    <small class="form-text text-danger"
                                           [hidden]="!editForm.controls.name?.errors?.maxlength"
                                           jhiTranslate="entity.validation.maxlength" [translateValues]="{ max: 42 }">
                                        This field cannot be longer than 42 characters.
                                    </small>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="form-group">
                                <label class="form-control-label" jhiTranslate="niopdcgatewayApp.person.postalCode"
                                       for="field_postalCode">Postal Code</label>
                                <input type="text" class="form-control" name="postalCode"
                                       id="field_postalCode"
                                       (blur)="onBlurPostalCode()"
                                       [(ngModel)]="person.postalCode" minlength="10" maxlength="10"/>
                                <div
                                    [hidden]="!(editForm.controls.postalCode?.dirty && editForm.controls.postalCode?.invalid)">
                                    <small class="form-text text-danger"
                                           [hidden]="!editForm.controls.postalCode?.errors?.minlength"
                                           jhiTranslate="entity.validation.minlength" [translateValues]="{ min: 10 }">
                                        This field is required to be at least 10 characters.
                                    </small>
                                    <small class="form-text text-danger"
                                           [hidden]="!editForm.controls.postalCode?.errors?.maxlength"
                                           jhiTranslate="entity.validation.maxlength" [translateValues]="{ max: 10 }">
                                        This field cannot be longer than 10 characters.
                                    </small>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="form-group">
                                <label class="form-control-label"
                                       jhiTranslate="niopdcgatewayApp.person.economicCode"
                                       for="field_economicCode">Economic Code</label>
                                <input type="text" class="form-control" name="economicCode"
                                       required id="field_economicCode" numeric
                                       disabled
                                       [(ngModel)]="person.economicCode" minlength="12" maxlength="12"/>
                                <div
                                    [hidden]="!(editForm.controls.economicCode?.dirty && editForm.controls.economicCode?.invalid)">
                                    <small class="form-text text-danger"
                                           [hidden]="!editForm.controls.economicCode?.errors?.minlength"
                                           jhiTranslate="entity.validation.minlength" [translateValues]="{ min: 12 }">
                                        This field is required to be at least 12 characters.
                                    </small>
                                    <small class="form-text text-danger"
                                           [hidden]="!editForm.controls.economicCode?.errors?.maxlength"
                                           jhiTranslate="entity.validation.maxlength" [translateValues]="{ max: 12 }">
                                        This field cannot be longer than 12 characters.
                                    </small>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row" *ngIf="person.personality === Personality[Personality.LEGAL]">
                        <div class="col-md-4">
                            <div class="form-group">
                                <label class="form-control-label" jhiTranslate="niopdcgatewayApp.person.telephone"
                                       for="field_telephone">Telephone</label>
                                <input type="text" class="form-control" name="telephone"
                                       id="field_telephone" required numeric pattern="^[0-9-]*$"
                                       [(ngModel)]="person.telephone" minlength="8" maxlength="11"/>
                                <div
                                    [hidden]="!(editForm.controls.telephone?.dirty && editForm.controls.telephone?.invalid)">
                                    <small class="form-text text-danger"
                                           [hidden]="!editForm.controls.telephone?.errors?.minlength"
                                           jhiTranslate="entity.validation.minlength" [translateValues]="{ min: 8 }">
                                        This field is required to be at least 3 characters.
                                    </small>
                                    <small class="form-text text-danger"
                                           [hidden]="!editForm.controls.telephone?.errors?.maxlength"
                                           jhiTranslate="entity.validation.maxlength" [translateValues]="{ max: 11 }">
                                        This field cannot be longer than 12 characters.
                                    </small>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="form-group">
                                <label class="form-control-label" jhiTranslate="niopdcgatewayApp.person.cellphone"
                                       for="field_cellphone">Cellphone</label>
                                <input type="text" class="form-control" name="cellphone"
                                       id="field_cellphone" required numeric pattern="^[0-9-]*$"
                                       [(ngModel)]="person.cellphone" minlength="11" maxlength="11" />
                                <div
                                    [hidden]="!(editForm.controls.cellphone?.dirty && editForm.controls.cellphone?.invalid)">
                                    <small class="form-text text-danger"
                                           [hidden]="!editForm.controls.cellphone?.errors?.minlength"
                                           jhiTranslate="entity.validation.minlength" [translateValues]="{ min: 11}">
                                        This field is required to be at least 3 characters.
                                    </small>
                                    <small class="form-text text-danger"
                                           [hidden]="!editForm.controls.cellphone?.errors?.maxlength"
                                           jhiTranslate="entity.validation.maxlength" [translateValues]="{ max: 11 }">
                                        This field cannot be longer than 12 characters.
                                    </small>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="form-group">
                                <label class="form-control-label" jhiTranslate="niopdcgatewayApp.person.email"
                                       for="field_email">email</label>
                                <input class="form-control"
                                       type="email"
                                       pattern="^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$"
                                       name="userEmail" id="field_email"
                                       [(ngModel)]="person.email" required

                                />
                                <div *ngIf="existEmail">
                                    <small class="form-text text-danger"
                                           jhiTranslate="niopdcgatewayApp.person.message.existEmail"></small>
                                </div>
                                <div
                                    [hidden]="!(editForm.controls.email?.dirty && editForm.controls.email?.invalid)">
                                    <small class="form-text text-danger"
                                           [hidden]="!editForm.controls.email?.errors?.minlength"
                                           jhiTranslate="entity.validation.minlength" [translateValues]="{ min: 10 }">
                                        This field is required to be at least 10 characters.
                                    </small>
                                    <small class="form-text text-danger"
                                           [hidden]="!editForm.controls.email?.errors?.maxlength"
                                           jhiTranslate="entity.validation.maxlength" [translateValues]="{ max: 10 }">
                                        This field cannot be longer than 10 characters.
                                    </small>
                                </div>
                            </div>
                        </div>

                    </div>

                    <div class="row" *ngIf="person.personality === Personality[Personality.NATURAL]">
                        <div class="col-md-4">
                            <div class="form-group">
                                <label class="form-control-label" jhiTranslate="niopdcgatewayApp.person.firstName"
                                       for="field_firstName">First Name</label>
                                <input disabled type="text" class="form-control"
                                       name="firstName"
                                       id="field_firstName" required
                                       [(ngModel)]="person.firstName" minlength="3" maxlength="42"/>
                                <div
                                    [hidden]="!(editForm.controls.firstName?.dirty && editForm.controls.firstName?.invalid)">
                                    <small class="form-text text-danger"
                                           [hidden]="!editForm.controls.firstName?.errors?.minlength"
                                           jhiTranslate="entity.validation.minlength" [translateValues]="{ min: 3 }">
                                        This field is required to be at least 3 characters.
                                    </small>
                                    <small class="form-text text-danger"
                                           [hidden]="!editForm.controls.firstName?.errors?.maxlength"
                                           jhiTranslate="entity.validation.maxlength" [translateValues]="{ max: 42 }">
                                        This field cannot be longer than 42 characters.
                                    </small>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="form-group">
                                <label class="form-control-label" jhiTranslate="niopdcgatewayApp.person.lastName"
                                       for="field_lastName">Last
                                    Name</label>
                                <input disabled type="text" class="form-control"
                                       name="lastName"
                                       id="field_lastName" required
                                       [(ngModel)]="person.lastName" minlength="3" maxlength="42"/>
                                <div
                                    [hidden]="!(editForm.controls.lastName?.dirty && editForm.controls.lastName?.invalid)">
                                    <small class="form-text text-danger"
                                           [hidden]="!editForm.controls.lastName?.errors?.minlength"
                                           jhiTranslate="entity.validation.minlength" [translateValues]="{ min: 3 }">
                                        This field is required to be at least 3 characters.
                                    </small>
                                    <small class="form-text text-danger"
                                           [hidden]="!editForm.controls.lastName?.errors?.maxlength"
                                           jhiTranslate="entity.validation.maxlength" [translateValues]="{ max: 42 }">
                                        This field cannot be longer than 42 characters.
                                    </small>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="form-group">
                                <label class="form-control-label" jhiTranslate="niopdcgatewayApp.person.fatherName"
                                       for="field_fatherName">Father Name</label>
                                <input disabled type="text" class="form-control"
                                       name="fatherName"
                                       id="field_fatherName" required
                                       [(ngModel)]="person.fatherName" minlength="3" maxlength="42"/>
                                <div
                                    [hidden]="!(editForm.controls.fatherName?.dirty && editForm.controls.fatherName?.invalid)">
                                    <small class="form-text text-danger"
                                           [hidden]="!editForm.controls.fatherName?.errors?.minlength"
                                           jhiTranslate="entity.validation.minlength" [translateValues]="{ min: 3 }">
                                        This field is required to be at least 3 characters.
                                    </small>
                                    <small class="form-text text-danger"
                                           [hidden]="!editForm.controls.fatherName?.errors?.maxlength"
                                           jhiTranslate="entity.validation.maxlength" [translateValues]="{ max: 42 }">
                                        This field cannot be longer than 42 characters.
                                    </small>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row" *ngIf="person.personality === Personality[Personality.NATURAL]">
                        <div class="col-md-4">
                            <div class="form-group">
                                <label class="form-control-label" jhiTranslate="niopdcgatewayApp.person.telephone"
                                       for="field_telephone1">Telephone</label>
                                <input type="text" class="form-control" name="telephone"
                                       id="field_telephone1" required numeric pattern="^[0-9-]*$"
                                       [(ngModel)]="person.telephone" minlength="8" maxlength="11"/>
                                <div
                                    [hidden]="!(editForm.controls.telephone?.dirty && editForm.controls.telephone?.invalid)">
                                    <small class="form-text text-danger"
                                           [hidden]="!editForm.controls.telephone?.errors?.minlength"
                                           jhiTranslate="entity.validation.minlength" [translateValues]="{ min: 8 }">
                                        This field is required to be at least 3 characters.
                                    </small>
                                    <small class="form-text text-danger"
                                           [hidden]="!editForm.controls.telephone?.errors?.maxlength"
                                           jhiTranslate="entity.validation.maxlength" [translateValues]="{ max: 11 }">
                                        This field cannot be longer than 12 characters.
                                    </small>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="form-group">
                                <label class="form-control-label" jhiTranslate="niopdcgatewayApp.person.cellphone"
                                       for="field_cellphone1">Cellphone</label>
                                <input type="text" class="form-control" name="cellphone"
                                       id="field_cellphone1" required numeric pattern="^[0-9-]*$"
                                       [(ngModel)]="person.cellphone" minlength="11" maxlength="11"/>
                                <div
                                    [hidden]="!(editForm.controls.cellphone?.dirty && editForm.controls.cellphone?.invalid)">
                                    <small class="form-text text-danger"
                                           [hidden]="!editForm.controls.cellphone?.errors?.minlength"
                                           jhiTranslate="entity.validation.minlength" [translateValues]="{ min: 11}">
                                        This field is required to be at least 3 characters.
                                    </small>
                                    <small class="form-text text-danger"
                                           [hidden]="!editForm.controls.cellphone?.errors?.maxlength"
                                           jhiTranslate="entity.validation.maxlength" [translateValues]="{ max: 11}">
                                        This field cannot be longer than 12 characters.
                                    </small>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="form-group">
                                <label class="form-control-label" jhiTranslate="niopdcgatewayApp.person.email"
                                       for="field_email1">email</label>
                                <input class="form-control"
                                       type="email"
                                       pattern="^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$"
                                       name="email1" id="field_email1"
                                       [(ngModel)]="person.email"
                                       required
                                />
                                <div *ngIf="existEmail">
                                    <small class="form-text text-danger"
                                           jhiTranslate="niopdcgatewayApp.person.message.existEmail"></small>
                                </div>
                                <div
                                    [hidden]="!(editForm.controls.email?.dirty && editForm.controls.email?.invalid)">
                                    <small class="form-text text-danger"
                                           [hidden]="!editForm.controls.email?.errors?.minlength"
                                           jhiTranslate="entity.validation.minlength" [translateValues]="{ min: 10 }">
                                        This field is required to be at least 10 characters.
                                    </small>
                                    <small class="form-text text-danger"
                                           [hidden]="!editForm.controls.email?.errors?.maxlength"
                                           jhiTranslate="entity.validation.maxlength" [translateValues]="{ max: 10 }">
                                        This field cannot be longer than 10 characters.
                                    </small>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row" *ngIf="person.personality === Personality[Personality.NATURAL]">
                        <div class="col-md-4">
                            <div class="form-group">
                                <label class="form-control-label" jhiTranslate="niopdcgatewayApp.person.country"
                                       for="field_country1">Country</label>
                                <select class="custom-select" id="field_country1" name="country"
                                        [(ngModel)]="person.countryId" disabled
                                        required (ngModelChange)="changeCountry()">
                                    <option *ngIf="!editForm.value.country" [ngValue]="null" selected></option>
                                    <option *ngFor="let countryOption of countries; trackBy: trackCountryById"
                                            [ngValue]="countryOption.id"
                                    >
                                        {{countryOption.name}}
                                    </option>
                                </select>
                            </div>
                            <div
                                [hidden]="!(editForm.controls.country?.dirty && editForm.controls.country?.invalid)">
                                <small class="form-text text-danger"
                                       [hidden]="!editForm.controls.country?.errors?.required"
                                       jhiTranslate="entity.validation.required">
                                    This field is required.
                                </small>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="form-group">
                                <label class="form-control-label" jhiTranslate="niopdcgatewayApp.person.birthRegion"
                                       for="field_birthRegion">Birth Region</label>
                                <select class="custom-select" disabled id="field_birthRegion"
                                        name="birthRegion"
                                        [(ngModel)]="person.birthRegionId">
                                    <option *ngIf="!editForm.value.birthRegion" [ngValue]="null" selected></option>
                                    <option *ngFor="let countryOption of regions; trackBy: trackBirthRegionById"
                                            [ngValue]="countryOption.id"
                                    >
                                        {{countryOption.name}}
                                    </option>
                                </select>
                            </div>
                            <div
                                [hidden]="!(editForm.controls.country?.dirty && editForm.controls.country?.invalid)">
                                <small class="form-text text-danger"
                                       [hidden]="!editForm.controls.country?.errors?.required"
                                       jhiTranslate="entity.validation.required">
                                    This field is required.
                                </small>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="form-group">
                                <label class="form-control-label" jhiTranslate="niopdcgatewayApp.person.postalCode"
                                       for="field_postalCode1">Postal Code</label>
                                <input type="text" class="form-control" name="postalCode"
                                       id="field_postalCode1" [required]="country?.checkNationalCode"
                                       [pattern]="regexCode"
                                       [numeric]
                                       (blur)="onBlurPostalCode()"
                                       [(ngModel)]="person.postalCode" minlength="10" maxlength="10"/>
                                <div
                                    [hidden]="!(editForm.controls.postalCode?.dirty && editForm.controls.postalCode?.invalid)">
                                    <small class="form-text text-danger"
                                           [hidden]="!editForm.controls.postalCode?.errors?.minlength"
                                           jhiTranslate="entity.validation.minlength" [translateValues]="{ min: 10 }">
                                        This field is required to be at least 10 characters.
                                    </small>
                                    <small class="form-text text-danger"
                                           [hidden]="!editForm.controls.postalCode?.errors?.maxlength"
                                           jhiTranslate="entity.validation.maxlength" [translateValues]="{ max: 10 }">
                                        This field cannot be longer than 10 characters.
                                    </small>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-12">
                            <div class="form-group">
                                <label class="form-control-label" jhiTranslate="niopdcgatewayApp.person.address"
                                       for="field_address">Address</label>
                                <textarea disabled type="text"
                                          class="form-control"
                                          name="address"
                                          required
                                          id="field_address"
                                          [(ngModel)]="person.address" minlength="10" maxlength="255"></textarea>
                                <div
                                    [hidden]="!(editForm.controls.address?.dirty && editForm.controls.address?.invalid)">
                                    <small class="form-text text-danger"
                                           [hidden]="!editForm.controls.address?.errors?.minlength"
                                           jhiTranslate="entity.validation.minlength" [translateValues]="{ min: 10 }">
                                        This field is required to be at least 3 characters.
                                    </small>
                                    <small class="form-text text-danger"
                                           [hidden]="!editForm.controls.address?.errors?.maxlength"
                                           jhiTranslate="entity.validation.maxlength"
                                           [translateValues]="{ max: 255 }">
                                        This field cannot be longer than 255 characters.
                                    </small>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-6" *ngIf="country.checkNationalCode">
                            <div class="form-group">
                                <label *ngIf="person.personality === Personality[Personality.LEGAL]"
                                       class="form-control-label" jhiTranslate="niopdcgatewayApp.person.regionLegal"
                                       for="field_region">Region</label>
                                <label *ngIf="person.personality === Personality[Personality.NATURAL]"
                                       class="form-control-label" jhiTranslate="niopdcgatewayApp.person.region"
                                       for="field_region">Region</label>
                                <input-region-selector [idSelector]="true"
                                                       [oneSelection]="true"
                                                       [countryId]="person.countryId"
                                                       [selectOfLevel]="[2,3,4]"
                                                       class="form-control" id="field_region" name="region"
                                                       [(ngModel)]="person.regionId">
                                </input-region-selector>
                            </div>
                            <div [hidden]="!(editForm.controls.region?.dirty && editForm.controls.region?.invalid)">
                                <small class="form-text text-danger"
                                       [hidden]="!editForm.controls.region?.errors?.required"
                                       jhiTranslate="entity.validation.required">
                                    This field is required.
                                </small>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group">
                                <label class="form-control-label" jhiTranslate="niopdcgatewayApp.person.location"
                                       for="field_location">Location</label>
                                <input-location-selector [idSelector]="false"
                                                         [dataAccess]="false"
                                                         [selectOfLevel]="[1,2]"
                                                         [selectByPriority]="true" required
                                                         class="form-control" id="field_location" name="location"
                                                         [(ngModel)]="person.locations">
                                </input-location-selector>
                            </div>
                            <div
                                [hidden]="!(editForm.controls.location?.dirty && editForm.controls.location?.invalid)">
                                <small class="form-text text-danger"
                                       [hidden]="!editForm.controls.region?.errors?.required"
                                       jhiTranslate="entity.validation.required">
                                    This field is required.
                                </small>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="card" *ngIf="false">
                    <form name="editFormBankAccount" role="form"
                          novalidate
                          #editFormBankAccount="ngForm">
                        <div class="card-header">
                            <div class="row">
                                <h5 class="col-md-3"
                                    jhiTranslate="niopdcgatewayApp.bankAccount.home.title">
                                    Create or edit
                                </h5>
                                <div class="col-md-8"></div>
                                <button type="button" class="btn btn-primary col-md-1"
                                        (click)="newBankAccount()">
                                    <span class="fa fa-plus"></span>
                                    <span jhiTranslate="entity.action.create">Create</span>
                                </button>
                            </div>
                        </div>
                        <div class="card-block container">
                            <div *ngIf="bankAccountCreate || bankAccountEdit" class="row">
                                <div class="col-md-3">
                                    <div class="form-group">
                                        <label class="form-control-label"
                                               jhiTranslate="niopdcgatewayApp.bankAccount.bank"
                                               for="field_bank">Bank</label>
                                        <select class="form-control" id="field_bank" name="bank"
                                                [(ngModel)]="bankAccount.bankId" required>
                                            <option *ngIf="!editForm.value.bank" [ngValue]="null" selected></option>
                                            <option [ngValue]="bankOption.id"
                                                    *ngFor="let bankOption of banks; trackBy: trackBankById">
                                                {{bankOption.name}}
                                            </option>
                                        </select>
                                    </div>
                                    <div
                                        [hidden]="!(editFormBankAccount.controls.bank?.dirty && editFormBankAccount.controls.bank?.invalid)">
                                        <small class="form-text text-danger"
                                               [hidden]="!editFormBankAccount.controls.bank?.errors?.required"
                                               jhiTranslate="entity.validation.required">
                                            This field is required.
                                        </small>
                                    </div>
                                </div>
                                <div class="col-md-3">
                                    <div class="form-group">
                                        <label class="form-control-label"
                                               jhiTranslate="niopdcgatewayApp.bankAccount.accountNumber"
                                               for="field_accountNumber">Account Number</label>
                                        <input type="text" class="form-control" name="accountNumber"
                                               id="field_accountNumber"
                                               [(ngModel)]="bankAccount.accountNumber" required/>
                                        <div
                                            [hidden]="!(editFormBankAccount.controls.accountNumber?.dirty && editFormBankAccount.controls.accountNumber?.invalid)">
                                            <small class="form-text text-danger"
                                                   [hidden]="!editFormBankAccount.controls.accountNumber?.errors?.required"
                                                   jhiTranslate="entity.validation.required">
                                                This field is required.
                                            </small>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-3">
                                    <div class="form-group">
                                        <label class="form-control-label"
                                               jhiTranslate="niopdcgatewayApp.bankAccount.shabaNumber"
                                               for="field_shabaNumber">Shaba Number</label>
                                        <input type="text" class="form-control" name="shabaNumber"
                                               id="field_shabaNumber"
                                               [(ngModel)]="bankAccount.shabaNumber" minlength="25" maxlength="25"/>
                                        <div
                                            [hidden]="!(editFormBankAccount.controls.shabaNumber?.dirty && editFormBankAccount.controls.shabaNumber?.invalid)">
                                            <small class="form-text text-danger"
                                                   [hidden]="!editFormBankAccount.controls.shabaNumber?.errors?.minlength"
                                                   jhiTranslate="entity.validation.minlength"
                                                   [translateValues]="{ min: 25 }">
                                                This field is required to be at least 25 characters.
                                            </small>
                                            <small class="form-text text-danger"
                                                   [hidden]="!editFormBankAccount.controls.shabaNumber?.errors?.maxlength"
                                                   jhiTranslate="entity.validation.maxlength"
                                                   [translateValues]="{ max: 25 }">
                                                This field cannot be longer than 25 characters.
                                            </small>
                                            <small class="form-text text-danger"
                                                   [hidden]="!editFormBankAccount.controls.shabaNumber?.errors?.pattern"
                                                   jhiTranslate="niopdcgatewayApp.bankAccount.shabaNumberPattern">
                                                This field cannot be longer than 25 characters.
                                            </small>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-3">
                                    <div class="form-group">
                                        <label class="form-control-label"
                                               jhiTranslate="niopdcgatewayApp.bankAccount.cardNumber"
                                               for="field_cardNumber">Card Number</label>
                                        <input type="text" class="form-control" name="cardNumber"
                                               id="field_cardNumber"
                                               [(ngModel)]="bankAccount.cardNumber" minlength="16" maxlength="20"/>
                                        <div
                                            [hidden]="!(editFormBankAccount.controls.cardNumber?.dirty && editFormBankAccount.controls.cardNumber?.invalid)">
                                            <small class="form-text text-danger"
                                                   [hidden]="!editFormBankAccount.controls.cardNumber?.errors?.minlength"
                                                   jhiTranslate="entity.validation.minlength"
                                                   [translateValues]="{ min: 16 }">
                                                This field is required to be at least 16 characters.
                                            </small>
                                            <small class="form-text text-danger"
                                                   [hidden]="!editFormBankAccount.controls.cardNumber?.errors?.maxlength"
                                                   jhiTranslate="entity.validation.maxlength"
                                                   [translateValues]="{ max: 20 }">
                                                This field cannot be longer than 20 characters.
                                            </small>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <p-dataTable [hidden]="bankAccountCreate || bankAccountEdit" [value]="bankAccounts"
                                         [immutable]="false"
                                         [paginator]="false" [responsive]="true" [stacked]="false">
                                <p-headerColumnGroup>
                                    <p-row>
                                        <p-column field="bankName" [sortable]="false">
                                            <ng-template pTemplate="header">
                                            <span
                                                jhiTranslate="niopdcgatewayApp.bankAccount.bank">Person</span>
                                            </ng-template>
                                        </p-column>
                                        <p-column field="accountNumber" [sortable]="false">
                                            <ng-template pTemplate="header">
                                            <span
                                                jhiTranslate="niopdcgatewayApp.bankAccount.accountNumber">Share Percent</span>
                                            </ng-template>
                                        </p-column>
                                        <p-column field="shabaNumber" [sortable]="false">
                                            <ng-template pTemplate="header">
                                            <span
                                                jhiTranslate="niopdcgatewayApp.bankAccount.shabaNumber">Share Percent</span>
                                            </ng-template>
                                        </p-column>
                                        <p-column field="cardNumber" [sortable]="false">
                                            <ng-template pTemplate="header">
                                            <span
                                                jhiTranslate="niopdcgatewayApp.bankAccount.cardNumber">Share Percent</span>
                                            </ng-template>
                                        </p-column>
                                        <p-column styleClass="col-button2">
                                            <ng-template pTemplate="header">
                                            </ng-template>
                                        </p-column>
                                    </p-row>
                                </p-headerColumnGroup>

                                <p-column field="bankName"
                                          [header]="'niopdcgatewayApp.carTank.tankNo' | translate"></p-column>
                                <p-column field="accountNumber"
                                          [header]="'niopdcgatewayApp.carTank.tankNo' | translate"></p-column>
                                <p-column field="shabaNumber"
                                          [header]="'niopdcgatewayApp.carTank.tankNo' | translate"></p-column>
                                <p-column field="cardNumber"
                                          [header]="'niopdcgatewayApp.carTank.tankNo' | translate"></p-column>
                                <p-column class="component">
                                    <ng-template let-item="rowData" pTemplate="body">
                                        <div class="btn-group" ngbDropdown placement="right">
                                            <button type="button" class="btn btn-danger"
                                                    [disabled]="item.sellContractPersonId"
                                                    (click)="deleteBankAccount(item)">
                                                <span class="fa fa-remove"></span>
                                                <span jhiTranslate="entity.action.delete">delete</span>
                                            </button>
                                            <button type="button" class="btn btn-info"
                                                    (click)="editBankAccount(item)">
                                                <span class="fa fa-edit"></span>
                                                <span jhiTranslate="entity.action.edit">edit</span>
                                            </button>
                                        </div>
                                    </ng-template>
                                </p-column>
                            </p-dataTable>
                        </div>
                        <div class="card-footer" [hidden]="!bankAccountCreate && !bankAccountEdit">
                            <button type="button" class="btn btn-secondary" data-dismiss="modal"
                                    (click)="cancelBankAccount()">
                                <span class="fa fa-ban"></span>&nbsp;<span
                                jhiTranslate="entity.action.cancel">Cancel</span>
                            </button>
                            <button type="button" class="btn btn-primary"
                                    [disabled]="editFormBankAccount.form.invalid "
                                    (click)="saveBankAccount()">
                                <span class="fa fa-save"></span>&nbsp;<span
                                jhiTranslate="entity.action.save">Save</span>
                            </button>
                        </div>
                    </form>
                </div>
            </ng-container>
            <div class="row" dir="ltr">
                <button type="submit" *ngIf="!isInquiry || isInquiryValid" style="float: right; margin: 15px"
                        [disabled]="editForm.form.invalid || (!isInquiry && force)" class="btn btn-primary"
                        jhiTranslate="settings.form.button">Save
                </button>
                <button type="submit" *ngIf="isInquiry  && !isInquiryValid" style="float: right; margin: 15px"
                        [disabled]="editForm.form.invalid || !isInquiry" class="btn btn-primary"
                        jhiTranslate="settings.form.inquiry.save">Save
                </button>
            </div>

        </ng-container>
    </form>
</div>
