<form name="editForm" role="form" novalidate (ngSubmit)="save()" #editForm="ngForm" autocomplete="off">
    <div class="modal-header">
        <h4 *ngIf="userRequest.id==null" class="modal-title" id="createLabel"
            jhiTranslate="userRequest.home.createLabel">
            Create</h4>
        <h4 *ngIf="userRequest.id!=null && !isView" class="modal-title" id="editLabel"
            jhiTranslate="userRequest.home.createOrEditLabel">
            Edit</h4>
        <h4 *ngIf="isView" class="modal-title" id="viewLabel" jhiTranslate="userRequest.home.view">
            View</h4>
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true"
                (click)="clear()">&times;
        </button>
    </div>
    <div class="modal-body">
        <jhi-alert-error></jhi-alert-error>
        <div class="card">
            <div class="card-header">
                <h5 class="mb-0"
                    jhiTranslate="userRequest.register.identity">
                </h5>
            </div>
            <div class="card-block container">
                <div class="row">
                    <div class="col-md-6">
                        <div class="form-group">
                            <label jhiTranslate="userRequest.nationalCode"
                                   for="nationalCode">nationalCode</label>
                            <input [disabled]="isView || userRequest.valid" type="text" class="form-control"
                                   name="nationalCode"
                                   id="nationalCode" required
                                   #nationalCodeInput="ngModel" national-code [isLegal]="false"
                                   [(ngModel)]="userRequest.nationalCode" maxlength="10">

                            <div *ngIf="nationalCodeInput.dirty && nationalCodeInput.invalid">
                                <small class="form-text text-danger"
                                       *ngIf="nationalCodeInput.errors.maxlength"
                                       jhiTranslate="entity.validation.maxlength"
                                       [translateValues]="{max: 10}">
                                    This field cannot be longer than 10 characters.
                                </small>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="form-group">
                            <label class="form-control-label"
                                   jhiTranslate="userRequest.birthday"
                                   for="field_birthday1">Birthday</label>
                            <div class="d-flex">
                                <ng2-datetimepicker [rtlActive]="true"
                                                    [disabled]="isView || userRequest.valid"
                                                    id="field_birthday1" [disableTime]="true"
                                                    class="form-control" required
                                                    name="birthday1" [(ngModel)]="userRequest.birthday"
                                ></ng2-datetimepicker>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="form-group">
                            <label class="form-control-label" for="firstName"
                                   jhiTranslate="userRequest.firstName">First
                                Name</label>

                            <input [disabled]="isView  || !(canEditFirstName)" type="text" class="form-control"
                                   name="firstName" required
                                   #firstNameInput="ngModel" id="firstName"
                                   [(ngModel)]="userRequest.firstName" maxlength="50">

                            <div *ngIf="firstNameInput.dirty && firstNameInput.invalid">
                                <small class="form-text text-danger"
                                       *ngIf="firstNameInput.errors.maxlength"
                                       jhiTranslate="entity.validation.maxlength"
                                       [translateValues]="{max: 50}">
                                    This field cannot be longer than 50 characters.
                                </small>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="form-group">
                            <label for="lastName" jhiTranslate="userRequest.lastName">Last Name</label>
                            <input [disabled]="isView || !(canEditLastName)" type="text" class="form-control"
                                   name="lastName"
                                   #lastNameInput="ngModel" id="lastName" required
                                   [(ngModel)]="userRequest.lastName" maxlength="50">

                            <div *ngIf="lastNameInput.dirty && lastNameInput.invalid">
                                <small class="form-text text-danger"
                                       *ngIf="lastNameInput.errors.maxlength"
                                       jhiTranslate="entity.validation.maxlength"
                                       [translateValues]="{max: 50}">
                                    This field cannot be longer than 50 characters.
                                </small>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="form-group">
                            <label class="form-control-label" for="fatherName"
                                   jhiTranslate="settings.form.fatherName">First
                                Name</label>
                            <input type="text" class="form-control" id="fatherName" name="fatherName"
                                   [(ngModel)]="userRequest.fatherName" minlength=1 maxlength=50
                                   [disabled]="isView || !(canEditFatherName)"
                                   required>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="form-group">
                            <label class="form-control-label" for="idCode" jhiTranslate="settings.form.idCode">Last
                                Name</label>
                            <input type="text" class="form-control" id="idCode" name="idCode"
                                   [(ngModel)]="userRequest.idCode"
                                   #idCodeInput="ngModel"
                                   [disabled]="isView || !(canEditIdCode)"
                                   [numeric]
                                   required>
                            <div *ngIf="idCodeInput.dirty && idCodeInput.invalid">
                                <small class="form-text text-danger"
                                       *ngIf="idCodeInput.errors.required"
                                       jhiTranslate="settings.messages.validate.idCode.required">
                                    Your idNo is required.
                                </small>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="form-group">
                            <label for="cellPhone" jhiTranslate="userRequest.cellPhone">cellPhone</label>
                            <input [disabled]="isView" type="text" class="form-control" name="cellPhone"
                                   #cellPhoneInput="ngModel" id="cellPhone" required
                                   [(ngModel)]="userRequest.cellPhone" maxlength="11" minlength="11">

                            <div *ngIf="cellPhoneInput.dirty && cellPhoneInput.invalid">
                                <small class="form-text text-danger"
                                       *ngIf="cellPhoneInput.errors.min"
                                       jhiTranslate="entity.validation.minlength"
                                       [translateValues]="{min: 11}">
                                    This field cannot be longer than 10 characters.
                                </small>
                            </div>
                            <div *ngIf="cellPhoneInput.dirty && cellPhoneInput.invalid">
                                <small class="form-text text-danger"
                                       *ngIf="cellPhoneInput.errors.maxlength"
                                       jhiTranslate="entity.validation.maxlength"
                                       [translateValues]="{max: 11}">
                                    This field cannot be longer than 7 characters.
                                </small>
                            </div>

                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="form-group">
                            <label class="form-control-label" jhiTranslate="niopdcgatewayApp.person.email"
                                   for="field_email2">email</label>
                            <input class="form-control"
                                   type="email"
                                   pattern="^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$"
                                   name="email" id="field_email2" [disabled]="isView"
                                   [(ngModel)]="userRequest.email" required

                            />
                            <div
                                [hidden]="!(editForm.controls.email?.dirty && editForm.controls.email?.invalid)">
                                <small class="form-text text-danger"
                                       [hidden]="!editForm.controls.email?.errors?.minlength"
                                       jhiTranslate="entity.validation.minlength"
                                       [translateValues]="{ min: 10 }">
                                    This field is required to be at least 10 characters.
                                </small>
                                <small class="form-text text-danger"
                                       [hidden]="!editForm.controls.email?.errors?.maxlength"
                                       jhiTranslate="entity.validation.maxlength"
                                       [translateValues]="{ max: 10 }">
                                    This field cannot be longer than 10 characters.
                                </small>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="card-header">
                <h5 class="mb-0"
                    jhiTranslate="userRequest.register.organizational">
                </h5>
            </div>
            <div class="card-block container">
                <div class="row">
                    <div class="col-xs-12 col-md-4">
                        <div class="form-group">
                            <label jhiTranslate="userRequest.organization"
                                   for="field_organization">organization</label>
                            <select class="custom-select" name="organization"
                                    [(ngModel)]="userRequest.organization" [disabled]="isView"
                                    id="field_organization" required>
                                <option
                                    value="NIOPDC">{{'niopdcgatewayApp.organization.NIOPDC' | translate}}</option>
                            </select>
                        </div>
                    </div>
                    <div class="col-xs-12 col-md-4">
                        <div class="form-group">
                            <label class="form-control-label"
                                   jhiTranslate="userRequest.location"
                                   for="field_location1">location</label>
                            <div class="d-flex">
                                <input-location-selector [idSelector]="true"
                                                         [dataAccess]="false"
                                                         [selectOfLevel]="[0,1,2,3]"
                                                         [oneSelection]="true"
                                                         [selectByPriority]="true" required
                                                         class="form-control" id="field_location1"
                                                         name="location1" [disabled]="isView"
                                                         [(ngModel)]="userRequest.locationId">
                                </input-location-selector>
                            </div>
                        </div>
                    </div>
                    <div class="col-xs-12 col-md-4">
                        <div class="form-group">
                            <label class="form-control-label" for="field_section"
                                   jhiTranslate="userRequest.section">section</label>

                            <input [disabled]="isView" type="text" class="form-control" name="section"
                                   #sectionInput="ngModel" id="field_section"
                                   [(ngModel)]="userRequest.section" maxlength="50">

                            <div *ngIf="sectionInput.dirty && sectionInput.invalid">
                                <small class="form-text text-danger"
                                       *ngIf="sectionInput.errors.maxlength"
                                       jhiTranslate="entity.validation.maxlength"
                                       [translateValues]="{max: 50}">
                                    This field cannot be longer than 50 characters.
                                </small>
                            </div>
                        </div>
                    </div>
                    <div class="col-xs-12 col-md-4">
                        <div class="form-group">
                            <label class="form-control-label" for="jobTitle"
                                   jhiTranslate="userRequest.jobTitle">jobTitle</label>

                            <input [disabled]="isView" type="text" class="form-control" name="jobTitle"
                                   #jobTitleInput="ngModel" id="jobTitle" required
                                   [(ngModel)]="userRequest.jobTitle" maxlength="50">

                            <div *ngIf="jobTitleInput.dirty && jobTitleInput.invalid">
                                <small class="form-text text-danger"
                                       *ngIf="jobTitleInput.errors.maxlength"
                                       jhiTranslate="entity.validation.maxlength"
                                       [translateValues]="{max: 50}">
                                    This field cannot be longer than 50 characters.
                                </small>
                            </div>
                        </div>
                    </div>
                    <div class="col-xs-12 col-md-4">
                        <div class="form-group">
                            <label jhiTranslate="userRequest.degreeOfEducation" for="degreeOfEducation">degreeOfEducation</label>
                            <select class="custom-select" [disabled]="isView"  name="degreeOfEducation"
                                    [(ngModel)]="userRequest.degreeOfEducation"
                                    id="degreeOfEducation" required>
                                <option
                                    value="MIDDLE_SCHOOL">{{'niopdcgatewayApp.degreeOfEducation.MIDDLE_SCHOOL' | translate}}</option>
                                <option
                                    value="DIPLOMA">{{'niopdcgatewayApp.degreeOfEducation.DIPLOMA' | translate}}</option>
                                <option
                                    value="ASSOCIATE">{{'niopdcgatewayApp.degreeOfEducation.ASSOCIATE' | translate}}</option>
                                <option
                                    value="BACHELORS">{{'niopdcgatewayApp.degreeOfEducation.BACHELORS' | translate}}</option>
                                <option
                                    value="MA">{{'niopdcgatewayApp.degreeOfEducation.MA' | translate}}</option>
                                <option
                                    value="PHD">{{'niopdcgatewayApp.degreeOfEducation.PHD' | translate}}</option>
                            </select>
                        </div>
                    </div>
                    <div class="col-xs-12 col-md-4">
                        <div class="form-group">
                            <label jhiTranslate="userRequest.employmentStatus" for="employmentStatus">employmentStatus</label>
                            <select class="custom-select" [disabled]="isView"  name="employmentStatus"
                                    [(ngModel)]="userRequest.employmentStatus"
                                    id="employmentStatus" required>
                                <option
                                    value="OFFICIAL">{{'niopdcgatewayApp.employmentStatus.OFFICIAL' | translate}}</option>
                                <option
                                    value="TEMPORARYـCONTRACT">{{'niopdcgatewayApp.employmentStatus.TEMPORARYـCONTRACT' | translate}}</option>
                                <option
                                    value="DEFINITEـCONTRACT">{{'niopdcgatewayApp.employmentStatus.DEFINITEـCONTRACT' | translate}}</option>
                                <option
                                    value="CONTRACTING">{{'niopdcgatewayApp.employmentStatus.CONTRACTING' | translate}}</option>
                                <option
                                    value="OTHERS">{{'niopdcgatewayApp.employmentStatus.OTHERS' | translate}}</option>
                            </select>
                        </div>
                    </div>
                    <div class="col-xs-12 col-md-4">
                        <div class="form-group">
                            <label class="form-control-label" for="personnelCode"
                                   jhiTranslate="userRequest.personnelCode">personnelCode</label>

                            <input [disabled]="isView" type="text" required class="form-control"
                                   name="personnelCode"
                                   #personnelCodeInput="ngModel" id="personnelCode"
                                   [(ngModel)]="userRequest.personnelCode" maxlength="50">

                            <div *ngIf="personnelCodeInput.dirty && personnelCodeInput.invalid">
                                <small class="form-text text-danger"
                                       *ngIf="personnelCodeInput.errors.maxlength"
                                       jhiTranslate="entity.validation.maxlength"
                                       [translateValues]="{max: 50}">
                                    This field cannot be longer than 50 characters.
                                </small>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="card-header">
                <h5 class="mb-0"
                    jhiTranslate="userRequest.register.user">
                </h5>
            </div>
            <div class="card-block container">
                <div class="row">
                    <div class="col-xs-12 col-md-4">
                        <div class="form-group">
                            <label jhiTranslate="userRequest.role" for="field_role">role</label>
                            <select class="custom-select" name="role" [disabled]="isView"
                                    [(ngModel)]="userRequest.roleId"
                                    id="field_role" required>
                                <option [ngValue]="role.id"
                                        *ngFor="let role of tempRole | sortBy:'title'">
                                    {{role.name}}
                                </option>
                            </select>
                        </div>
                    </div>
                    <div class="col-xs-12 col-md-4">
                        <div class="form-group">
                            <label class="form-control-label" jhiTranslate="userManagement.userType"
                                   for="field_userType">Oil Tank Type</label>
                            <div class="d-flex">
                                <select [disabled]="isView" class="form-control" name="userType"
                                        [(ngModel)]="userRequest.userType" id="field_userType" required>
                                    <option
                                        value="HEAD">{{'niopdcgatewayApp.userType.HEAD' | translate}}</option>
                                    <option
                                        value="AREA">{{'niopdcgatewayApp.userType.AREA' | translate}}</option>
                                    <option
                                        value="ZONE">{{'niopdcgatewayApp.userType.ZONE' | translate}}</option>
                                    <option
                                        value="BOUNDARY">{{'niopdcgatewayApp.userType.BOUNDARY' | translate}}</option>
                                    <option
                                        value="REFUEL_CENTER">{{'niopdcgatewayApp.userType.REFUEL_CENTER' | translate}}</option>
                                    <option
                                        value="DEPOT">{{'niopdcgatewayApp.userType.DEPOT' | translate}}</option>
                                    <option
                                        value="PROP">{{'niopdcgatewayApp.userType.PROP' | translate}}</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="col-xs-12 col-md-4">
                        <div class="form-group">
                            <label class="form-control-label" for="login" jhiTranslate="userManagement.login">Login</label>
                            <input [disabled]="isView || userRequest.id" type="text" class="form-control"
                                   name="login"
                                   #loginInput1="ngModel" id="login"
                                   [(ngModel)]="userRequest.login" required minlength="1" maxlength="50"
                                   pattern="^[_'.@A-Za-z0-9-]*$">
                            <div *ngIf="loginInput1.dirty && loginInput1.invalid">
                                <small class="form-text text-danger"
                                       *ngIf="loginInput1.errors.required"
                                       jhiTranslate="entity.validation.required">
                                    This field is required.
                                </small>

                                <small class="form-text text-danger"
                                       *ngIf="loginInput1.errors.maxlength"
                                       jhiTranslate="entity.validation.maxlength"
                                       translate-value-max="{50}">
                                    This field cannot be longer than 50 characters.
                                </small>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal" (click)="clear()">
            <span class="fa fa-ban"></span>&nbsp;<span
            jhiTranslate="entity.action.cancel">Cancel</span>
        </button>
    </div>
</form>
